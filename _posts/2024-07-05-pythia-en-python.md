---
date: 2024-07-05
title: Pythia en Python
categories:
  - Robo-Advisory Post Mortem Pt. 2
author_staff_member: emiel
---

In het Oude Griekenland was er een bijzondere rol weggelegd voor het bergdorpje Delphi in Centraal-Griekenland, de meest bekende cultusplek van de god Apollo. Apollo streek er volgens de legende zelf neer om een orakel op te richten. Zijn medium was de Pythia, een maagd uit het dorp. 

![Delphi](https:\\nonkelfonds.github.io/images/delphi-photo-13721043.jpeg)


Hordes mensen kwamen het orakel raadplegen en de goden goede raad vragen bij het nemen van belangrijke of moeilijke beslissingen, inclusief staatsmannen en buitenlandse vorsten die het orakel lieten spreken over de meest urgente staatszaken en oorlogen. De opschriften in de tempel maakten nochtans enkele waarschuwingen duidelijk, zoals “Ken uzelf” en “Alles met mate”. De Pythia was vaak ondubbelzinnig dubbelzinnig zoals “Een groot rijk zal verwoest worden” waarbij Croesus van Lydië natuurlijk niet kon vermoeden dat het over zijn eigen rijk ging toen hij met die raad ten oorlog trok. Wanneer menselijke hoogmoed dergelijke goddelijke intelligentie ontmoet, dan hoort de mens niet meer wat die intelligentie hem probeert te zeggen, maar zoekt die vaak vooral naar bevestiging van wat hij al dacht te weten. Dan lijkt de lijn tussen wat is en wat hij hoopt dat is soms flinterdun.

De naam Pythia is afgeleid van Python, de slang die Apollo eerst moest verslaan om in Delphi zijn cultusplek op te zetten waarna hij volgens de legende zelf priesters rekruteerde. Python is ook de naam van de programmeertaal waarin het grote merendeel van de hedendaagse AI software is geschreven. Ook daar moeten we vaststellen dat menselijke hoogmoed en wiskundig exacte dubbelzinnigheid een dodelijke combinatie kan zijn. Hoop, in combinatie met voldoende wiskundige complexiteit en onnodige specificatie en detail, kan inderdaad hetzelfde effect hebben dat wat iets is en wat je wil dat iets is door elkaar gehaald worden. Goede en slechte ideëen slapen dan in hetzelfde bed, en ’s nachts kun je die nu eenmaal eens voor elkaar verwarren. Zo zeker ook voor kwantitatieve finance. Mijn programmeerlessen in London waren in die zin wel ondubbelzinnig: “The computer does not do what you want it to do. The computer does what you tell it to do.” Tussen wens en realiteit staan helaas harde wetten in de weg, en praktische bezwaren, maar ook de unknown unknowns die niemand kan verklaren.

Het construeren van een investeringsstrategie bestaat uit een heel aantal stappen en het is afhankelijk van de stap of het (1) slim, (2) niet zo verstandig of (3) ronduit onverantwoord is om AI algoritmes - ruim gedefinieerd als zeer geavanceerde software voor patroonherkenning - te gebruiken. 

Zo start men van een investeringsuniversum, waarbij men de duizenden en duizenden investeerbare activa zou kunnen filteren aan de hand van classificatie met geavanceerde AI software. Voor aandelen zou dit bijvoorbeeld kunnen betekenen het automatisch bepalen van sectoren a.d.h.v. transacties leren herkennen tussen bedrijven die clusters vormen, i.p.v. GICS en andere standaardclassificaties. Andere voorbeelden is herkennen van evoluties in fundamentals (EBITDA, Net Debt / EBITDA, FCF / EV,…) en best-in-class evoluerende instrumenten per regio of sector gaan ontdekken uit een pool die initieel veel te groot is voor analisten. Dit automatische shortlisten is een voorbeeld van slimme AI. Je vraagt niet aan het orakel wat je moet kopen, je vraagt om in de verpletterende hoeveelheid informatie - gestructureerd of ongestructureerd waarin de patroonherkenningssoftware zelf structuur leert - een eerste selectie te maken op basis van criteria zoals macro of fundamenteel die je zelf nog kan interpreteren. 

Na de selectie van een universum, is er in bijna alle investeringsprocessen een inschatting van de upside van een investering, de downside en de interactie met bestaande posities in de portefeuille. De upside van een investering voorspellen, dat is de essentie van een orakelbenadering. Het voorspellen van “expected returns”, zij het van individuele assets, zij het van sectoren of hele macro indices, dat kan niemand naar behoren aan de hand van standaard beschikbare data. Daar zondigt vaak de hobbyist investeerder, maar ook institutionelen, aan hoogmoed en sommige biases waar ik in een volgende post op terugkom. Sommige niche fondsen beschikken over heel specifieke datasets - bijvoorbeeld commodity traders hebben inzichten in de vraag, aanbod en cargo data van grondstoffen in specifieke regio’s of markten - zodat zij dit beter kunnen inschatten dan de meeste van ons, maar het is voor hen nog steeds zeer moeilijk tot onmogelijk. Ook zij zijn maar winstgevend door meer goeie trades te hebben dan slechte, en dit wil allesbehalve zeggen uitsluitend goeie trades hebben. Daarenboven, het verschil daar wordt zelden in het algoritme gemaakt, wel in de data en niet te onderschatten de investeringshypothese die de trader die over die data beschikt toetst aan die data. Voor publieke aandelen is de “asset pricing” literatuur - bekommerd met het inschatten van een faire return voor het ingeschatte risico - zeer goed in het verklaren van performance door de historische returns te verklaren aan de hand van risicopremies. Bijvoorbeeld een premie voor het kopen van aandelen in se “marktrisico”, een premie voor de grootte van het aandeel, voor de boekwaarde van het aandeel, voor het momentum van een aandeel, etc. Diezelfde literatuur is echter zeer zwak in het voorspellen van welke van deze factoren morgen, volgende week, volgende maand dominant zal zijn in de performance van de doorsnede van het investeringsuniversum en m.a.w. welke karakteristieken in aandelen je moet zoeken om in de toekomst in te investeren. 
Diezelfde asset pricing literatuur heeft natuurlijk ook een AI moment gekend: het voorspellen van expected returns met machine learning (“[Taming the factor zoo](https://dachxiu.chicagobooth.edu/download/ZOO.pdf)” met LASSO, Ridge, neurale netwerken, LSTMs, decision trees, LLMs,…) maar de performance van de modellen hebben veel weg van een orakel approach: in theorie en onder zeer specifieke omstandigheden levert het wat op, maar in praktijk verdwijnen die extra returns al snel en doet een simpel gemiddelde voorspellen het beter dan een overgeparametriseerd model. Wiskundige “Ken uzelf”, “Alles met mate”, vermijdt een orakel approach, staat in alle handboeken van kwantitatieve finance, maar bij het in de praktijk brengen van de dingen smijt men toch soms met wiskundige bazooka’s naar financiële markten terwijl wiskundige katapultjes effectiever zouden zijn. Model mindfulness en financiële machine learning hebben een slechte relatie ontwikkeld  - hier raad ik het boek [Models. Behaving. Badly.](https://www.amazon.com/Models-Behaving-Badly-Confusing-Illusion-Reality-Disaster/dp/1439164991) van Emanuel Derman aan - en de epigrafen van de Belgische robotadviseurs hadden daar veel weg van.

De wiskundige vergeet hier soms een belangrijk adagium, namelijk dat de verdienste van financiële wiskunde in de eerste plek gaat over het voorspellen en beheersen van risico’s en het vermijden van te veel geld te verliezen, eerder dan het voorspellen van returns en het bouwen van glazen-bol-strategieën. Wanneer je een universum gescreend hebt en een soort van ranking (uw upside of expected return) hebt van hoe aantrekkelijk elke mogelijke positie zou zijn, dan moet je nog toewerken naar een verantwoorde portefeuille: hoe veel kan ik in een positie steken als ik rekening hou met zijn downside? Hoe combineer ik posities om niet geconcentreerd te zijn (een bet op correlatie i.p.v. concentratie) in een regio, sector, type marktrisico of stijl van aandeel (value, growth, momentum),…? Hoeveel zou mijn historische maximale drawdown (top-to-bottom verlies) bedragen mocht ik die portefeuille kopen? Voor een agressieve techaandelen portefeuille is dat misschien de helft of meer van mijn geld t.a.v.  de meest defensieve aandelen die historisch niet meer dan 15% zakten wanneer slim gecombineerd in een portefeuille? En zo voort en zo verder. Hier zijn er in recente jaren enorme vooruitgangen gemaakt om de tijd in de markt van investeerders te maximaliseren en de vluchtreflex te onderdrukken door de rit zo stabiel mogelijk te maken en toch de risicopremies te plukken. Vooruitgangen met alternatieve niet-lineaire risicomaten (bijvoorbeeld de Belgische B2B roboadvisor [InvestSuite](https://www.investsuite.com/)), automatisch identificeren van risicoconcentraties of -clusters (een beetje zoals sectoren hierboven maar focus op risico, zoals [HRP](https://thepythonlab.medium.com/hierarchical-risk-parity-portfolio-optimization-f40584d7481d#:~:text=Hierarchical%20risk%20parity%20(HRP)%20is,asset%20classes%20and%20their%20correlations) ), betere simulatie van adverse marktscenarios (bijvoorbeeld [eigen werk](https://emiellemahieu.github.io/research_projects)), het online hedgen van posities met deep learning (het [gerenommeerde deep hedging project](https://www.tandfonline.com/doi/abs/10.1080/14697688.2019.1571683)),…

Deze nuance ontbrak bij het doodsbericht van sommige Belgische roboadvisors. Het illusoir karakter van de orakel approach brengt systematisch of algoritmisch traden op hetzelfde niveau als wat soms infameus technische analyse wordt genoemd:  de afhankelijkheid van een naieve daytrader van indicatoren en grafieken wanneer een lijntje een ander lijntje kruist. Dit soort onzin wordt dan op één hoop gegooid met zeer nuttige modellen om je portefeuille beter te begrijpen. Het begrijpen en beheersen van risico’s is de essentie van kwantitatieve finance en het verschil met returns is dat je het wel gekwantificeerd krijgt. Slimme positielimieten zouden het nooit toestaan dat de retailinvesteerder geconcentreerd zit in slechts een paar individuele lijnen, of slechts één sector of één regio. Slimme algoritmes kunnen classificeren of een portfolio wellicht bij de meest volatiele of minder volatiele zal behoren die men kan maken aan de hand van het universum. De reden is dat risico een veel persistenter fenomeen is dan returns. Zeggen dat voor een gegeven universum - zelfs maar voor een paar instrumenten - de gewichten van je portefeuille arbitrair kiezen, zoals de meeste retail investeerders, op het einde van de rit gelijkaardige returns zal geven aan een geoptimaliseerde portefeuille is op zijn zachts gezegd een loopje nemen met de werkelijkheid. Die illusie wil Nonkel Fonds doorbreken. Het doel van dit artikel is niet in geuren en kleuren de voordelen van optimalisatie uit te leggen en u te overtuigen met techniciteiten, wiskunde die wel werkt en jaren aan backtestmateriaal. Maar we moeten voor deze post mortem dit essentieel verschil wel begrijpen. Roboadvisors, als ze al AI gebruikten en niet gewoon een marketingtool waren, gebruikten AI voornamelijk voor de input van verwachte returns en gebruikten betrekkelijk eenvoudig risicomanagement ([moderne portefeuilletheorie (MPT)](https://www.boleromatti.be/nl/hoe-werkt-matti/onder-de-motorkap-van-matti) - oftewel gemiddeldes en varianties) voor het inschatten van risico.

Maar hoe dan wel een stukje van je vermogen automatiseren met slimme algoritmes? We komen hierop terug in de volgende posts.

